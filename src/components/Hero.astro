---
import { getResumeData, calculateITExperience } from '../lib/resumeData';

const resumeData = await getResumeData();
const experienceYears = calculateITExperience(resumeData.itStartYear);

// Serialize data for client-side download script
const clientData = JSON.stringify(resumeData);
---

<section id="top" class="py-16 md:py-24 text-center bg-(--color-bg-primary)">
  <div class="max-w-6xl mx-auto px-4 md:px-8">
    <h1 class="text-4xl md:text-6xl font-bold text-(--color-text-primary) mb-4 tracking-tight">Mark Dean Larson</h1>
    <p class="text-lg md:text-xl text-(--color-text-muted) mb-8 max-w-xl mx-auto">
      A Systems Engineer/Frontend Developer with <span id="hero-experience-years">{experienceYears}+</span> years of experience based in Cambridge, Minnesota.
    </p>
    <div class="mt-8 flex gap-4 justify-center flex-wrap">
      <a href="mailto:markdlarson@me.com" class="inline-block px-8 py-4 bg-(--color-bg-tertiary) text-(--color-text-primary) no-underline rounded-md font-medium transition-all duration-300 hover:bg-(--color-accent) hover:text-white hover:-translate-y-0.5">Get in touch</a>
      <button id="downloadPDF" class="px-8 py-4 bg-(--color-bg-tertiary) text-(--color-text-primary) rounded-md font-medium transition-all duration-300 border-none cursor-pointer font-inherit text-base hover:bg-(--color-accent) hover:text-white hover:-translate-y-0.5 disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none">Download Resume</button>
    </div>
  </div>
</section>

<script define:vars={{ clientData }}>
  // Inject resume data for client-side download script
  window.resumeData = JSON.parse(clientData);
</script>
